# ShareIt

> ShareIt - это сервис, где пользователи делятся вещами. Это приложение позволяет пользователям, во-первых, рассказывать, какими вещами они готовы поделиться, а во-вторых, находить нужную вещь и брать её в аренду на какое-то время. 
> Сервис не только позволяет бронировать вещь на определённые даты, но и закрывать к ней доступ на время бронирования от других желающих.
> На случай, если нужной вещи нет в данный момент, у пользователей есть возможность оставлять запросы. По запросу можно добавлять новые вещи для шеринга. 

## Оглавление
- [Функциональность приложения](#функциональность-приложения)
- [Схема БД и модели данных](#схема-бд-и-модели-данных)
- [Описание API](#описание-api)
- [Сборка и установка](#сборка-и-установка)
- [Стек технологий](#стек-технологий)

## Функциональность приложения
ShareIt - имеет микросервисную архитектуру. Состоит из 2-х сервисов:
1. **gateway** - в этом сервисе выполняется валидация всех запросов от пользователей приложения. Реализовано кэширование для одинаковых запросов;
2. **server** - здесь вся бизнес логика приложения и обращение к базе данных.

Приложение соответствует принципам REST API.
- Контроллеры (BookingController / ItemController / RequestController / UserController)
- Сервисы (BookingService / ItemService / RequestService / UserService)
- Хранилища (BookingRepository / ItemRepository / RequestRepository / UserRepository)

Приложение позволяет пользователю:
- Добавлять новую вещь с кратким описанием
- Искать нужную вещь по ключевым словам в описании или в названии вещи
- Создавать запросы, если нужная ему вещь не была найдена при поиске
- Забронировать на определенные даты необходимую вещь (владелец вещи должен подтвердить бронирование)
- Оставить отзыв о вещи после того как она была возвращена владельцу

## Схема БД и модели данных
Модели:
- **Item** (Вещь)
- **ItemRequest** (Запрос)
- **User** (Пользователь)
- **Booking** (Бронирование)
- **Comment** (Отзыв)

Схема БД:
![Scheme of ShareIt database](/shareit_diagram.png)

## Описание API
<details>
  <summary><h3>Вещь</h3></summary>
  
- **POST** /items - добавление новой вещи
- **PATCH** /items/{itemId} - обновление информации о вещи
- **GET** /items/{itemId} - просмотр информации о конкретной вещи по её идентификатору
- **GET** /items - просмотр владельцем списка всех его вещей с указанием названия и описания для каждой
- **GET** /items/search - поиск вещи по ключевым словам в описании или в названии вещи
- **DELETE** /items/{itemId} - удаление вещи из сервиса
- **POST** /items/{itemId}/comment - добавление отзыва о вещи
</details>
<details>
  <summary><h3>Запрос</h3></summary>
  
- **POST** /requests - добавление нового запроса на вещь
- **GET** /requests - просмотр всех своих запросов
- **GET** /requests/all - просмотр всех запросов
- **GET** /requests/{requestId} - просмотр запроса по ID и ответами на этот запрос
</details>
<details> 
 <summary><h3>Пользователь</h3></summary>
  
- **GET** /users - получение списка всех пользователей
- **GET** /users/{userId} - получение пользователя по ID
- **POST** /users - создание пользователя
- **PATCH** /users - обновление данных о пользователе
- **DELETE** /users/{userId} - удаление пользователя
</details>
<details> 
  <summary><h3>Бронирование</h3></summary>

- **POST** /bookings - добавление нового запроса на бронирование
- **PATCH** /bookings/{bookingId} - подтверждение или отклонение запроса на бронирование
- **GET** /bookings/{bookingId} - просмотр информации о бронировании по ID
- **GET** /bookings - просмотр всех бронирований текущего пользователя
- **GET** /bookings/owner - просмотр всех бронирований для всех вещей текущего пользователя
</details>

## Сборка и установка
Требования:
- Git
- JDK 11 или выше
- Maven 3.6.0 или выше
- Docker

Как запустить приложение:
1. Склонируйте репозиторий на локальную компьютер:
```bash
https://github.com/Anarmard/java-shareit.git
```
2. Перейдите в директорию проекта:
```bash
cd java-shareit
```
3. Соберите проект:
```bash
mvn clean install
```
4. Запустите приложение:
```bash
docker-compose up
```

## Стек технологий
- Java
- Spring Boot
- Spring Data JPA
- Mockito
- Apache Maven
- Docker
- Lombok (+ SLF4J)
- Postman
